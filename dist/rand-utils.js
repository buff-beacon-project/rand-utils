/*! randUtils version 1.0.0 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.randUtils=e():t.randUtils=e()}(this,(function(){return function(){var t={797:function(t,e,r){var n;!function(i){var o=function(t,e,r){if(!(t instanceof ArrayBuffer||"undefined"!=typeof Buffer&&t instanceof Buffer))throw new Error("Must specify a valid ArrayBuffer or Buffer.");e=e||0,r=r||t.byteLength||t.length,this._view=new Uint8Array(t.buffer||t,e,r),this.bigEndian=!1};o._scratch=new DataView(new ArrayBuffer(8)),Object.defineProperty(o.prototype,"buffer",{get:function(){return"undefined"!=typeof Buffer?Buffer.from(this._view.buffer):this._view.buffer},enumerable:!0,configurable:!1}),Object.defineProperty(o.prototype,"byteLength",{get:function(){return this._view.length},enumerable:!0,configurable:!1}),o.prototype._setBit=function(t,e){e?this._view[t>>3]|=1<<(7&t):this._view[t>>3]&=~(1<<(7&t))},o.prototype.getBits=function(t,e,r){var n=8*this._view.length-t;if(e>n)throw new Error("Cannot get "+e+" bit(s) from offset "+t+", "+n+" available");for(var i=0,o=0;o<e;){var f=e-o,s=7&t,u=this._view[t>>3],a=Math.min(f,8-s);this.bigEndian?(i<<=a,i|=u>>8-a-s&~(255<<a)):i|=(u>>s&~(255<<a))<<o,t+=a,o+=a}return r?(32!==e&&i&1<<e-1&&(i|=-1^(1<<e)-1),i):i>>>0},o.prototype.setBits=function(t,e,r){var n=8*this._view.length-t;if(r>n)throw new Error("Cannot set "+r+" bit(s) from offset "+t+", "+n+" available");for(var i=0;i<r;){var o,f,s,u=r-i,a=7&t,h=t>>3,p=Math.min(u,8-a);if(this.bigEndian){f=e>>r-i-p&(o=~(-1<<p));var c=8-a-p;s=~(o<<c),this._view[h]=this._view[h]&s|f<<c}else f=e&(o=~(255<<p)),e>>=p,s=~(o<<a),this._view[h]=this._view[h]&s|f<<a;t+=p,i+=p}},o.prototype.getBoolean=function(t){return 0!==this.getBits(t,1,!1)},o.prototype.getInt8=function(t){return this.getBits(t,8,!0)},o.prototype.getUint8=function(t){return this.getBits(t,8,!1)},o.prototype.getInt16=function(t){return this.getBits(t,16,!0)},o.prototype.getUint16=function(t){return this.getBits(t,16,!1)},o.prototype.getInt32=function(t){return this.getBits(t,32,!0)},o.prototype.getUint32=function(t){return this.getBits(t,32,!1)},o.prototype.getFloat32=function(t){return o._scratch.setUint32(0,this.getUint32(t)),o._scratch.getFloat32(0)},o.prototype.getFloat64=function(t){return o._scratch.setUint32(0,this.getUint32(t)),o._scratch.setUint32(4,this.getUint32(t+32)),o._scratch.getFloat64(0)},o.prototype.setBoolean=function(t,e){this.setBits(t,e?1:0,1)},o.prototype.setInt8=o.prototype.setUint8=function(t,e){this.setBits(t,e,8)},o.prototype.setInt16=o.prototype.setUint16=function(t,e){this.setBits(t,e,16)},o.prototype.setInt32=o.prototype.setUint32=function(t,e){this.setBits(t,e,32)},o.prototype.setFloat32=function(t,e){o._scratch.setFloat32(0,e),this.setBits(t,o._scratch.getUint32(0),32)},o.prototype.setFloat64=function(t,e){o._scratch.setFloat64(0,e),this.setBits(t,o._scratch.getUint32(0),32),this.setBits(t+32,o._scratch.getUint32(4),32)},o.prototype.getArrayBuffer=function(t,e){for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=this.getUint8(t+8*n);return r};var f=function(t,e){return function(){if(this._index+e>this._length)throw new Error("Trying to read past the end of the stream");var r=this._view[t](this._index);return this._index+=e,r}},s=function(t,e){return function(r){this._view[t](this._index,r),this._index+=e}};function u(t,e,r){if(0===e)return"";var n=0,i=[],o=!0,f=!!e;for(e||(e=Math.floor((t._length-t._index)/8));n<e;){var s=t.readUint8();if(0===s&&(o=!1,!f))break;o&&i.push(s),n++}var u=String.fromCharCode.apply(null,i);if(!r)return u;try{return decodeURIComponent(escape(u))}catch(t){return u}}var a=function(t,e,r){var n=t instanceof ArrayBuffer||"undefined"!=typeof Buffer&&t instanceof Buffer;if(!(t instanceof o||n))throw new Error("Must specify a valid BitView, ArrayBuffer or Buffer");this._view=n?new o(t,e,r):t,this._index=0,this._startIndex=0,this._length=8*this._view.byteLength};Object.defineProperty(a.prototype,"index",{get:function(){return this._index-this._startIndex},set:function(t){this._index=t+this._startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length-this._startIndex},set:function(t){this._length=t+this._startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bitsLeft",{get:function(){return this._length-this._index},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"byteIndex",{get:function(){return Math.ceil(this._index/8)},set:function(t){this._index=8*t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"buffer",{get:function(){return this._view.buffer},enumerable:!0,configurable:!1}),Object.defineProperty(a.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!1}),Object.defineProperty(a.prototype,"bigEndian",{get:function(){return this._view.bigEndian},set:function(t){this._view.bigEndian=t},enumerable:!0,configurable:!1}),a.prototype.readBits=function(t,e){var r=this._view.getBits(this._index,t,e);return this._index+=t,r},a.prototype.writeBits=function(t,e){this._view.setBits(this._index,t,e),this._index+=e},a.prototype.readBoolean=f("getBoolean",1),a.prototype.readInt8=f("getInt8",8),a.prototype.readUint8=f("getUint8",8),a.prototype.readInt16=f("getInt16",16),a.prototype.readUint16=f("getUint16",16),a.prototype.readInt32=f("getInt32",32),a.prototype.readUint32=f("getUint32",32),a.prototype.readFloat32=f("getFloat32",32),a.prototype.readFloat64=f("getFloat64",64),a.prototype.writeBoolean=s("setBoolean",1),a.prototype.writeInt8=s("setInt8",8),a.prototype.writeUint8=s("setUint8",8),a.prototype.writeInt16=s("setInt16",16),a.prototype.writeUint16=s("setUint16",16),a.prototype.writeInt32=s("setInt32",32),a.prototype.writeUint32=s("setUint32",32),a.prototype.writeFloat32=s("setFloat32",32),a.prototype.writeFloat64=s("setFloat64",64),a.prototype.readASCIIString=function(t){return function(t,e){return u(t,e,!1)}(this,t)},a.prototype.readUTF8String=function(t){return function(t,e){return u(t,e,!0)}(this,t)},a.prototype.writeASCIIString=function(t,e){!function(t,e,r){for(var n=r||e.length+1,i=0;i<n;i++)t.writeUint8(i<e.length?e.charCodeAt(i):0)}(this,t,e)},a.prototype.writeUTF8String=function(t,e){!function(t,e,r){for(var n=function(t){var e,r,n=[];for(e=0;e<t.length;e++)(r=t.charCodeAt(e))<=127?n.push(r):r<=2047?(n.push(r>>6|192),n.push(63&r|128)):r<=65535?(n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)):(n.push(r>>18|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128));return n}(e),i=r||n.length+1,o=0;o<i;o++)t.writeUint8(o<n.length?n[o]:0)}(this,t,e)},a.prototype.readBitStream=function(t){var e=new a(this._view);return e._startIndex=this._index,e._index=this._index,e.length=t,this._index+=t,e},a.prototype.writeBitStream=function(t,e){var r;for(e||(e=t.bitsLeft);e>0;)r=Math.min(e,32),this.writeBits(t.readBits(r),r),e-=r},a.prototype.readArrayBuffer=function(t){var e=this._view.getArrayBuffer(this._index,t);return this._index+=8*t,e},a.prototype.writeArrayBuffer=function(t,e){this.writeBitStream(new a(t),8*e)},void 0===(n=function(){return{BitView:o,BitStream:a}}.call(e,r,e,t))||(t.exports=n)}()}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return function(){"use strict";r.r(n),r.d(n,{BitReader:function(){return a},boundedRandom:function(){return e},getShuffleSeed:function(){return i},shuffle:function(){return s},shuffleSelf:function(){return f}});function*t(t){let e=0;try{for(;;)yield t(e++)}catch(t){if("Error"!==t.name||"Cannot get"!==t.message.substr(0,10))throw t}}function e(t,e){if(t<0||t%1!=0)throw new Error("Value must be a positive integer >= 2");if(t<2)return 0;const r=Math.log2(t),n=Math.ceil(r),i=1<<n;if(!Number.isSafeInteger(i*(t-1)))throw new Error("Range is too high to evaluate");if(r%1==0)return e.readBits(n,!1);let o=e.readBits(n,!1),f=o*t,s=f%i;if(s<t){const r=(i-t)%t;for(;s<r;)o=e.readBits(n,!1),f=o*t,s=f%i}return f>>n}const i=r=>Array.from(t((t=>e(t+2,r)))),o=(t,e,r)=>{e!==r&&([t[e],t[r]]=[t[r],t[e]])};function f(t,e){const r=t.length;if(!r)return t;if(r>e.length+1)throw new Error(`Insufficient sized seed to shuffle this array. Max length: ${e.length+1}`);for(let n=r;n>1;n--){const r=e[n-2];o(t,n-1,r)}return t}function s(t,e){return f(t.slice(),e)}var u=r(797);class a{static from(t){if(t instanceof ArrayBuffer)return new a(t);if(t.buffer)return new a(t.buffer);throw new Error("Unsupported format")}constructor(t){if(!(t instanceof ArrayBuffer))throw new Error("Value passed to constructor is not an ArrayBuffer");this.buffer=t,this._shuffleSeed=null}get shuffleSeed(){return this._shuffleSeed||(this._shuffleSeed=i(this.stream())),this._shuffleSeed}get maxShuffleLength(){return this.shuffleSeed.length+1}dataView(t,e){return new DataView(this.buffer,t,e)}stream(){return new u.BitStream(this.buffer)}view(){return new u.BitView(this.buffer)}shuffled(t){return s(t,this.shuffleSeed)}applyShuffle(t){f(t,this.shuffleSeed)}unfold(e,r=Array){const n=this.stream();return r.from(t((t=>e(n,t))))}}}(),n}()}));
//# sourceMappingURL=rand-utils.js.map